{
  "version": "1",
  "metadata": {
    "marimo_version": "0.19.7"
  },
  "cells": [
    {
      "id": "Hbol",
      "code_hash": "f30197e9e32179462a646d4a81433922",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"shader-gallery\">Shader Gallery</h1>\n<span class=\"paragraph\">AI-generated GLSL fragment shaders, created by an agentic loop that generates, critiques, and refines shaders using VLM feedback.</span>\n<span class=\"paragraph\"><strong>How to use:</strong> drag the slider to browse shaders. Each shader renders live via WebGL. The GLSL source and agent notes are shown alongside.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "78d39b8fd8af10dff4a75252aa7ec867",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "e28b24e4cb6173a41222a80fe8a4ac8c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "bkHC",
      "code_hash": "2fda8daf7dbf6aae85d1668c6d182ce8",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='bkHC-0' random-id='fdfc4cd7-bcd8-2dff-5e3c-e6027c7adb36'><marimo-slider data-initial-value='42' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Shader (1 to 50)&lt;/span&gt;&lt;/span&gt;&quot;' data-start='0' data-stop='49' data-steps='[]' data-debounce='false' data-disabled='false' data-orientation='&quot;horizontal&quot;' data-show-value='true' data-include-input='false' data-full-width='true'></marimo-slider></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "lEQa",
      "code_hash": "3d389a1f0c57ea3527a8e8e7608cb84e",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: flex-start;flex-wrap: nowrap;gap: 1rem'><div style='flex: 0'><marimo-ui-element object-id='lEQa-0' random-id='351e994f-b0e9-d60d-b34a-ee0c2cd35f74'><marimo-anywidget data-initial-value='{&quot;state&quot;:{&quot;glsl&quot;:&quot;#version 330&#92;n&#92;nin vec2 v_uv;&#92;nuniform sampler2D u_input;&#92;nuniform vec2 u_resolution;&#92;nuniform float u_time;&#92;nout vec4 f_color;&#92;n&#92;nconst mat3 m = mat3( 0.00,  0.80,  0.60,&#92;n                    -0.80,  0.36, -0.48,&#92;n                    -0.60, -0.48,  0.64 );&#92;n&#92;nfloat hash(float n) {&#92;n    return fract(sin(n)*43758.5453);&#92;n}&#92;n&#92;nfloat noise(in vec3 x) {&#92;n    vec3 p = floor(x);&#92;n    vec3 f = fract(x);&#92;n    f = f*f*(3.0 - 2.0*f);&#92;n    float n = p.x + p.y*57.0 + 113.0*p.z;&#92;n    float res = mix(mix(mix(hash(n + 0.0), hash(n + 1.0), f.x),&#92;n                        mix(hash(n + 57.0), hash(n + 58.0), f.x), f.y),&#92;n                    mix(mix(hash(n + 113.0), hash(n + 114.0), f.x),&#92;n                        mix(hash(n + 170.0), hash(n + 171.0), f.x), f.y), f.z);&#92;n    return res;&#92;n}&#92;n&#92;nfloat fbm(vec3 p) {&#92;n    float f = 0.5 * noise(p);&#92;n    p = m * p * 2.02;&#92;n    f += 0.25 * noise(p);&#92;n    p = m * p * 2.03;&#92;n    f += 0.125 * noise(p);&#92;n    p = m * p * 2.01;&#92;n    f += 0.0625 * noise(p);&#92;n    return f;&#92;n}&#92;n&#92;n#define snoise(x) (2.0*noise(x)-1.0)&#92;n&#92;nfloat sfbm(vec3 p) {&#92;n    float f = 0.5 * snoise(p);&#92;n    p = m * p * 2.02;&#92;n    f += 0.25 * snoise(p);&#92;n    p = m * p * 2.03;&#92;n    f += 0.125 * snoise(p);&#92;n    p = m * p * 2.01;&#92;n    f += 0.0625 * snoise(p);&#92;n    return f;&#92;n}&#92;n&#92;nvec3 sfbm3(vec3 p) {&#92;n    return vec3(sfbm(p), sfbm(p - 327.67), sfbm(p + 327.67));&#92;n}&#92;n&#92;nfloat smin(float a, float b) {&#92;n    return 1.0 / (1.0 / a + 1.0 / b);&#92;n}&#92;n&#92;nfloat map(vec3 p) {&#92;n    // Base sphere&#92;n    float sphereDist = length(p) - 1.0;&#92;n    // Add organic detail with fbm&#92;n    float detail = fbm(p * 3.0 + vec3(0.0, u_time * 0.2, 0.0)) * 0.3;&#92;n    return sphereDist + detail;&#92;n}&#92;n&#92;nfloat rayMarch(vec3 ro, vec3 rd) {&#92;n    float t = 0.0;&#92;n    float maxDist = 10.0;&#92;n    float minDist = 0.001;&#92;n    for (int i = 0; i &lt; 100; i++) {&#92;n        vec3 pos = ro + rd * t;&#92;n        float dist = map(pos);&#92;n        if (dist &lt; minDist) {&#92;n            return t;&#92;n        }&#92;n        t += dist;&#92;n        if (t &gt; maxDist) break;&#92;n    }&#92;n    return -1.0;&#92;n}&#92;n&#92;nvec3 getNormal(vec3 p) {&#92;n    float eps = 0.001;&#92;n    vec2 e = vec2(1.0, -1.0) * eps;&#92;n    return normalize(vec3(&#92;n        map(p + vec3(e.x, 0.0, 0.0)) - map(p + vec3(e.y, 0.0, 0.0)),&#92;n        map(p + vec3(0.0, e.x, 0.0)) - map(p + vec3(0.0, e.y, 0.0)),&#92;n        map(p + vec3(0.0, 0.0, e.x)) - map(p + vec3(0.0, 0.0, e.y))&#92;n    ));&#92;n}&#92;n&#92;nfloat edgeFactor(vec3 p) {&#92;n    // Use normal to simulate wireframe edges by checking angle with world axes&#92;n    vec3 n = getNormal(p);&#92;n    float edge = abs(dot(n, normalize(vec3(1.0, 1.0, 1.0))));&#92;n    return smoothstep(0.7, 0.75, edge);&#92;n}&#92;n&#92;nvoid main() {&#92;n    // Camera setup&#92;n    vec2 uv = v_uv * 2.0 - 1.0;&#92;n    uv.x *= u_resolution.x / u_resolution.y;&#92;n&#92;n    vec3 ro = vec3(0.0, 0.0, 3.0);&#92;n    vec3 rd = normalize(vec3(uv, -1.5));&#92;n&#92;n    // Rotate camera around Y axis over time&#92;n    float angle = u_time * 0.3;&#92;n    float c = cos(angle);&#92;n    float s = sin(angle);&#92;n    rd.xz = vec2(rd.x * c - rd.z * s, rd.x * s + rd.z * c);&#92;n    ro.xz = vec2(ro.x * c - ro.z * s, ro.x * s + ro.z * c);&#92;n&#92;n    float t = rayMarch(ro, rd);&#92;n&#92;n    vec3 col = vec3(0.0);&#92;n&#92;n    if (t &gt; 0.0) {&#92;n        vec3 pos = ro + rd * t;&#92;n        float edge = edgeFactor(pos);&#92;n        // Wireframe effect: dark lines on edges&#92;n        col = vec3(1.0) * (1.0 - edge);&#92;n    } else {&#92;n        // Background color&#92;n        col = vec3(0.0);&#92;n    }&#92;n&#92;n    f_color = vec4(col, 1.0);&#92;n}&#92;n&quot;,&quot;height&quot;:512,&quot;width&quot;:512},&quot;bufferPaths&quot;:[],&quot;buffers&quot;:[]}' data-label='null' data-js-url='&quot;./@file/5947-9566367-zgB3RDB9.js&quot;' data-js-hash='&quot;4ef257e873950360f908668f5e52224d&quot;' data-css='&quot;&quot;'></marimo-anywidget></marimo-ui-element></div><div style='flex: 1'>\n<div style=\"max-height: 520px; overflow-y: auto; padding-right: 8px;\">\n    <div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert contents\"><span class=\"paragraph\"><strong>Shader 42</strong> \u00b7 <code>generate_initial_shader</code></span></span><span class=\"markdown prose dark:prose-invert contents\"><h3 id=\"notes\">Notes</h3>\n<span class=\"paragraph\">Procedural ray marching of a noisy sphere with fbm-based organic detail and wireframe edge highlighting via normal dot product; monochromatic rendering without texture sampling.</span></span><span class=\"markdown prose dark:prose-invert contents\"><h3 id=\"glsl\">GLSL</h3>\n<div class=\"language-glsl codehilite\"><pre><span></span><code><span class=\"cp\">#version 330</span>\n\n<span class=\"k\">in</span><span class=\"w\"> </span><span class=\"kt\">vec2</span><span class=\"w\"> </span><span class=\"n\">v_uv</span><span class=\"p\">;</span>\n<span class=\"k\">uniform</span><span class=\"w\"> </span><span class=\"kt\">sampler2D</span><span class=\"w\"> </span><span class=\"n\">u_input</span><span class=\"p\">;</span>\n<span class=\"k\">uniform</span><span class=\"w\"> </span><span class=\"kt\">vec2</span><span class=\"w\"> </span><span class=\"n\">u_resolution</span><span class=\"p\">;</span>\n<span class=\"k\">uniform</span><span class=\"w\"> </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">u_time</span><span class=\"p\">;</span>\n<span class=\"k\">out</span><span class=\"w\"> </span><span class=\"kt\">vec4</span><span class=\"w\"> </span><span class=\"n\">f_color</span><span class=\"p\">;</span>\n\n<span class=\"k\">const</span><span class=\"w\"> </span><span class=\"kt\">mat3</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">mat3</span><span class=\"p\">(</span><span class=\"w\"> </span><span class=\"mf\">0.00</span><span class=\"p\">,</span><span class=\"w\">  </span><span class=\"mf\">0.80</span><span class=\"p\">,</span><span class=\"w\">  </span><span class=\"mf\">0.60</span><span class=\"p\">,</span>\n<span class=\"w\">                    </span><span class=\"o\">-</span><span class=\"mf\">0.80</span><span class=\"p\">,</span><span class=\"w\">  </span><span class=\"mf\">0.36</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mf\">0.48</span><span class=\"p\">,</span>\n<span class=\"w\">                    </span><span class=\"o\">-</span><span class=\"mf\">0.60</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mf\">0.48</span><span class=\"p\">,</span><span class=\"w\">  </span><span class=\"mf\">0.64</span><span class=\"w\"> </span><span class=\"p\">);</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">fract</span><span class=\"p\">(</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"mf\">43758.5453</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">noise</span><span class=\"p\">(</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">floor</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">fract</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">*</span><span class=\"n\">f</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"mf\">3.0</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">2.0</span><span class=\"o\">*</span><span class=\"n\">f</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">*</span><span class=\"mf\">57.0</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">113.0</span><span class=\"o\">*</span><span class=\"n\">p</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">res</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">mix</span><span class=\"p\">(</span><span class=\"n\">mix</span><span class=\"p\">(</span><span class=\"n\">mix</span><span class=\"p\">(</span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"p\">),</span>\n<span class=\"w\">                        </span><span class=\"n\">mix</span><span class=\"p\">(</span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">57.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">58.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"p\">),</span>\n<span class=\"w\">                    </span><span class=\"n\">mix</span><span class=\"p\">(</span><span class=\"n\">mix</span><span class=\"p\">(</span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">113.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">114.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"p\">),</span>\n<span class=\"w\">                        </span><span class=\"n\">mix</span><span class=\"p\">(</span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">170.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">171.0</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">res</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">fbm</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.5</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">noise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">2.02</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"mf\">0.25</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">noise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">2.03</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"mf\">0.125</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">noise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">2.01</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"mf\">0.0625</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">noise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"cp\">#define snoise(x) (2.0*noise(x)-1.0)</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">sfbm</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.5</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">snoise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">2.02</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"mf\">0.25</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">snoise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">2.03</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"mf\">0.125</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">snoise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">2.01</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"mf\">0.0625</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">snoise</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">sfbm3</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"n\">sfbm</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">sfbm</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">327.67</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">sfbm</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">327.67</span><span class=\"p\">));</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">smin</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"c1\">// Base sphere</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">sphereDist</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"c1\">// Add organic detail with fbm</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">detail</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">fbm</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">3.0</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">u_time</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">0.2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">0.3</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">sphereDist</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">detail</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">rayMarch</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">ro</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">maxDist</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">10.0</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">minDist</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.001</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kt\">int</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mo\">0</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">100</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">++</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">pos</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">ro</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">dist</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">pos</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">dist</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"n\">minDist</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"n\">dist</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">maxDist</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mf\">1.0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">getNormal</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">eps</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0.001</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kt\">vec2</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec2</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mf\">1.0</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">eps</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">normalize</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"p\">(</span>\n<span class=\"w\">        </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"n\">e</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"n\">e</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">)),</span>\n<span class=\"w\">        </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">)),</span>\n<span class=\"w\">        </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"p\">))</span>\n<span class=\"w\">    </span><span class=\"p\">));</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">edgeFactor</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"c1\">// Use normal to simulate wireframe edges by checking angle with world axes</span>\n<span class=\"w\">    </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">getNormal</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">edge</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">abs</span><span class=\"p\">(</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">normalize</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"p\">))));</span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">smoothstep</span><span class=\"p\">(</span><span class=\"mf\">0.7</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.75</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">edge</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n\n<span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"c1\">// Camera setup</span>\n<span class=\"w\">    </span><span class=\"kt\">vec2</span><span class=\"w\"> </span><span class=\"n\">uv</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">v_uv</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">2.0</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">uv</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">*=</span><span class=\"w\"> </span><span class=\"n\">u_resolution</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">u_resolution</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"p\">;</span>\n\n<span class=\"w\">    </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">ro</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">3.0</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">normalize</span><span class=\"p\">(</span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"n\">uv</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mf\">1.5</span><span class=\"p\">));</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// Rotate camera around Y axis over time</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">angle</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">u_time</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">0.3</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">angle</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">angle</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">rd</span><span class=\"p\">.</span><span class=\"n\">xz</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec2</span><span class=\"p\">(</span><span class=\"n\">rd</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">ro</span><span class=\"p\">.</span><span class=\"n\">xz</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec2</span><span class=\"p\">(</span><span class=\"n\">ro</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">ro</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">ro</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">ro</span><span class=\"p\">.</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"p\">);</span>\n\n<span class=\"w\">    </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">rayMarch</span><span class=\"p\">(</span><span class=\"n\">ro</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"p\">);</span>\n\n<span class=\"w\">    </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">col</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">);</span>\n\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kt\">vec3</span><span class=\"w\"> </span><span class=\"n\">pos</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">ro</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"kt\">float</span><span class=\"w\"> </span><span class=\"n\">edge</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">edgeFactor</span><span class=\"p\">(</span><span class=\"n\">pos</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"c1\">// Wireframe effect: dark lines on edges</span>\n<span class=\"w\">        </span><span class=\"n\">col</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">edge</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// Background color</span>\n<span class=\"w\">        </span><span class=\"n\">col</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec3</span><span class=\"p\">(</span><span class=\"mf\">0.0</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"n\">f_color</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kt\">vec4</span><span class=\"p\">(</span><span class=\"n\">col</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</code></pre></div></span></div>\n</div>\n</div></div>"
          }
        }
      ],
      "console": []
    }
  ]
}